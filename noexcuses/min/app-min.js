jQuery(document).ready(function($){function e(e){e.each(function(){var e=$(this);$(window).scrollTop()+.5*$(window).height()>e.offset().top&&e.addClass("is-visible")}),s=!1}function i(e){e.each(function(){var e=$(this);t(e.find('.cd-image-label[data-type="modified"]'),e.find(".cd-resize-img"),"left"),t(e.find('.cd-image-label[data-type="original"]'),e.find(".cd-resize-img"),"right")}),d=!1}function n(e,i,n,t,s){e.on("mousedown vmousedown",function(d){e.addClass("draggable"),i.addClass("resizable");var f=e.outerWidth(),r=e.offset().left+f-d.pageX,u=n.offset().left,l=n.outerWidth(),m=u+10,c=u+l-f-10;e.parents().on("mousemove vmousemove",function(e){a||(a=!0,window.requestAnimationFrame?requestAnimationFrame(function(){o(e,r,f,m,c,u,l,i,t,s)}):setTimeout(function(){o(e,r,f,m,c,u,l,i,t,s)},100))}).on("mouseup vmouseup",function(n){e.removeClass("draggable"),i.removeClass("resizable")}),d.preventDefault()}).on("mouseup vmouseup",function(n){e.removeClass("draggable"),i.removeClass("resizable")})}function o(e,i,n,o,s,d,f,r,u,l){var m=e.pageX+i-n;o>m?m=o:m>s&&(m=s);var c=100*(m+n/2-d)/f+"%";$(".draggable").css("left",c).on("mouseup vmouseup",function(){$(this).removeClass("draggable"),r.removeClass("resizable")}),$(".resizable").css("width",c),t(l,r,"left"),t(u,r,"right"),a=!1}function t(e,i,n){"left"==n?e.offset().left+e.outerWidth()<i.offset().left+i.outerWidth()?e.removeClass("is-hidden"):e.addClass("is-hidden"):e.offset().left>i.offset().left+i.outerWidth()?e.removeClass("is-hidden"):e.addClass("is-hidden")}var a=!1,s=!1,d=!1,f=$(".cd-image-container");e(f),$(window).on("scroll",function(){s||(s=!0,window.requestAnimationFrame?requestAnimationFrame(function(){e(f)}):setTimeout(function(){e(f)},100))}),f.each(function(){var e=$(this);n(e.find(".cd-handle"),e.find(".cd-resize-img"),e,e.find('.cd-image-label[data-type="original"]'),e.find('.cd-image-label[data-type="modified"]'))}),$(window).on("resize",function(){d||(d=!0,window.requestAnimationFrame?requestAnimationFrame(function(){i(f)}):setTimeout(function(){i(f)},100))})});